<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Reader Settings</title>
    <link rel="icon" href="../../../assets/48.png" />
    <link rel="stylesheet" href="../../styles/common.scss" />
    <link rel="stylesheet" href="../../styles/theme.scss" />
    <link rel="stylesheet" href="./settings.scss" />
    <script src="./settings.ts"></script>
  </head>

  <body>
    <article>
      <nav>
        <h1>Sections:</h1>
        <a href="#general" class="active">General</a>
        <a href="#mining">Mining</a>
        <a href="#keybinds">Keybinds</a>
        <a href="#accessibility">Accessibility</a>
        <a href="#appearance">Appearance</a>
        <a href="#import-export">Import/Export</a>

        <input type="submit" id="save" value="Save settings" />
      </nav>
      <div id="settings">
        <section id="general">
          <h1>General</h1>
          <div class="explanation">
            To find your API token, visit the
            <a
              href="https://jpdb.io/settings#:~:text=in%20the%20future.-,Account%20information,-Username"
              target="_blank"
              >jpdb settings page</a
            >
            and scroll to the very bottom.
          </div>
          <setting-string class="setting" name="apiToken">API Token</setting-string>
          <setting-string class="setting" name="ankiUrl">Anki URL</setting-string>
        </section>
        <section id="general">
          <h1>Mining</h1>
          <div class="explanation">
            To find the deck ID for a specific deck, open that deck's page on jpdb and look at the
            URL.
            <br />
            You will see something like <code>https://jpdb.io/deck?id=32</code>. The number at the
            end is the deck ID. <br />
            The following special deck IDs are also allowed: <code>blacklist</code>,
            <code>never-forget</code>, <code>forq</code> (= front of review queue)<br />
          </div>
          <setting-string class="setting" name="miningDeckId">Mining deck name</setting-string>
          <setting-string class="setting" name="blacklistDeckId"
            >Blacklist deck name</setting-string
          >
          <setting-string class="setting" name="neverForgetDeckId"
            >Never forget deck name</setting-string
          >
          <setting-number class="setting" name="contextWidth"
            >Number of context sentences</setting-number
          >
        </section>
        <section id="keybinds">
          <h1>Keybinds</h1>
          <div class="explanation">
            Press escape to clear. Holding modifiers like shift or alt is supported. <br />
            Hotkeys are based on key position and independent of your current keyboard layout.
            <br />
            Note: Keybinds currently always work on the word you are hovering your mouse over, even
            if you have the popup for another word open.
          </div>
          <setting-keybind class="setting" name="showPopupKey">Show popup</setting-keybind>
        </section>
        <section id="accessibility">
          <h1>Accessibility</h1>
          <setting-boolean class="setting" name="showPopupOnHover"
            >Show the popup on hover</setting-boolean
          >
          <setting-boolean class="setting" name="touchscreenSupport"
            >Touchscreen support</setting-boolean
          >
          <setting-boolean class="setting" name="disableFadeAnimation"
            >Disable fade animation</setting-boolean
          >
        </section>
        <section id="appearance">
          <h1>Appearance</h1>
          <setting-text class="setting" name="customWordCSS">Custom Word CSS</setting-text>
          <setting-text class="setting" name="customPopupCSS">Custom Popup CSS</setting-text>
        </section>
        <section id="import-export">
          <h1>Import/Export</h1>
          <div>
            <button id="export">Export Settings</button>
            <button id="import">Import Settings</button>
            <input type="file" id="import-file-picker" accept="application/json" />
          </div>
        </section>
      </div>
    </article>
  </body>
</html>
